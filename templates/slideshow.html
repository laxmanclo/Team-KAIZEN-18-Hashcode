<!DOCTYPE html>
<html>
<head>
    <title>Image Slideshow</title>
    <style>
        #slideshow {
            width: 500px;
            height: 300px;
            position: relative;
            margin: 0 auto;
        }

        #slideshow img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        #slideshow img.active {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div id="slideshow">
        <?php
        // Connect to the database
        $servername = "your-server";
        $username = "your-username";
        $password = "your-password";
        $dbname = "your-database";

        $conn = new mysqli($servername, $username, $password, $dbname);

        // Check connection
        if ($conn->connect_error) {
            die("Connection failed: " . $conn->connect_error);
        }

        // Query to get image paths from the database
        $sql = "SELECT image_path FROM images";
        $result = $conn->query($sql);

        if ($result->num_rows > 0) {
            $count = 0;
            while ($row = $result->fetch_assoc()) {
                $active = ($count == 0) ? 'active' : '';
                echo '<img src="' . $row['image_path'] . '" class="' . $active . '">';
                $count++;
            }
        } else {
            echo "No images found in the database.";
        }

        $conn->close();
        ?>
    </div>

    <script>
        var slides = document.querySelectorAll('#slideshow img');
        var currentSlide = 0;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + slides.length) % slides.length;
            slides[currentSlide].classList.add('active');
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function prevSlide() {
            showSlide(currentSlide - 1);
        }

        setInterval(nextSlide, 3000); // Change slide every 3 seconds
    </script>
</body>
</html>